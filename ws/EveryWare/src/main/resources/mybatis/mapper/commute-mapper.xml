<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="commuteMapper">

	<insert id="insertCommute">
		INSERT INTO COMMUTE
		(
			 COM_CODE
		   , ECODE
		   , START_TIME
		   , END_TIME
		   , COM_STATUS
		
		)
		VALUES
		(
			 SEQ_COM_CODE_NO.NEXTVAL
		   , #{eCode}
		   , #{startTime}
		   , #{endTime}
		   , #{comStatus}
		
		)
	</insert>
	
	<insert id="insertOverwork">
		INSERT INTO OVERWORK
		(
			 OVER_CODE
		   , ECODE
		   , OVER_DATE
		   , OVER_TIME
		   , OVER_NAME
		   , OVER_REASON
		
		)
		VALUES
		(
			 SEQ_OVER_CODE_NO.NEXTVAL
		   , #{eCode}
		   , #{overDate}
		   , #{overTime}
		   , #{overName}
		   , #{overReason}
		
		)
	</insert>
	
	<select id="selectOverworkList" resultType="OverworkVo">
		SELECT OVER_CODE, OVER_DATE, OVER_TIME, OVER_NAME, OVER_REASON, OVER_APPROVAL FROM OVERWORK
		WHERE ECODE = #{eCode} ORDER BY OVER_CODE DESC
	</select>
	
	<select id="selectTotalCnt" resultType="int">
		SELECT COUNT(*) FROM OVERWORK WHERE ECODE = #{eCode}
	</select>
	
	<!-- <select id="selectCommuteList">
		SELECT COM_CODE, ECODE, START_TIME, END_TIME, ENROLL_DATE, COM_STATUS FROM COMMUTE
	</select> -->
</mapper>